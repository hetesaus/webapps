<html>
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.12/css/uikit.min.css" />
    </head>
	<body>
		<div id="app">
			<div class="uk-position-center">
				<div class="uk-margin">
					<video :src="currentTrack" ref="video" autoplay controls playsinline @ended="setTrack" uk-video></video>
				</div>
				<div class="uk-margin uk-text-center">
					{{ currentTrackName }}
				</div>
			</div>
		</div>
    </body>
</html>

<script src="https://unpkg.com/vue"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.12/js/uikit.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.12/js/uikit-icons.min.js"></script>

<script>

	new Vue({
		el: '#app',
		data: {
			currentTrack: '',
			currentTrackName: '',
			tracks: [ 
				'rain',
				'thunder' 
			],
		},
		
		created() {
			this.setTrack();
		},
		
		methods: {	
			setTrack () {
				let vid = this.$refs.video;
				let id = Math.floor(Math.random() * this.tracks.length);
				this.currentTrack = 'audio/' + this.tracks[id] + '.mp3';
				this.currentTrackName = this.tracks[id];
				
				if (vid){
					vid.muted = false;
					vid.load();
					vid.play();
				}
			}
		}
	})

</script>
